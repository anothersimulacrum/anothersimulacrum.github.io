const bmr = 1716;
var bmr_mult = 0.35;
var initial_step = 1.0;
var thresh_scaling = 0.8;

function weary_thresh( fatigue = 0, morale = 0 )
{
	var threshold = bmr * bmr_mult;
	threshold *= 1.0 - ( ( fatigue - 150 ) / 1400.0 );
	threshold *= 1.0 + ( morale / 200.0 );

	if( threshold < bmr / 10 ) {
		return bmr / 10;
	}
	return threshold;
}

function weariness( tracker, intake )
{
	if( intake > tracker ) {
		return tracker / 2;
	}
	return tracker - ( intake / 2 );
}

function weariness_level( tracker, intake, fatigue, morale )
{
	var amount = weariness( tracker, intake );
	var threshold = weary_thresh( fatigue, morale );
	var level = 0;
	amount -= threshold * initial_step;
	while( amount >= 0 ) {
		++level;
		amount -= threshold;
		if( threshold > 20 ) {
			threshold *= thresh_scaling;
		}
	}
	return level;
}

let page = {
	bmrMult: document.getElementById( "bmrMult" ),
	bmrMultButton: document.getElementById( "bmrMultCommit" ),
	initScale: document.getElementById( "initScale" ),
	initScaleButton: document.getElementById( "initScaleCommit" ),
	threshScale: document.getElementById( "threshScale" ),
	threshScaleButton: document.getElementById( "threshScaleCommit" ),
	recalc: document.getElementById( "recalc" ),
	log: document.getElementById( "log" ),

	burnt: document.getElementById( "burntCal" ),
	digest: document.getElementById( "digestCal" ),
	fatigue: document.getElementById( "fatigue" ),
	morale: document.getElementById( "morale" ),
	staticBtn: document.getElementById( "staticCalc" ),
	staticOut: document.getElementById( "staticOut" ),
}

function refresh_static()
{
	let lvl = weariness_level( page.burnt.value, page.digest.value, page.fatigue.value, page.morale.value );
	let weary = weariness( page.burnt.value, page.digest.value );
	let thresh = weary_thresh( page.fatigue.value, page.morale.value );
	page.staticOut.innerHTML = "<p>Level: " + lvl + " Weariness: " + weary + " Threshold: " + thresh + "</p>";
}

page.staticBtn.addEventListener( "click", function() {
    refresh_static();
});

function refresh()
{
	page.bmrMult.value = bmr_mult;
	page.initScale.value = initial_step;
	page.threshScale.value = thresh_scaling;
	page.log.innerHTML = "";
	refresh_static();
}

page.bmrMultButton.addEventListener( "click", function() {
	bmr_mult = page.bmrMult.value;
	refresh();
});

page.initScaleButton.addEventListener( "click", function() {
	initial_step = page.initScale.value;
	refresh();
});

page.threshScaleButton.addEventListener( "click", function() {
	thresh_scaling = page.threshScale.value;
	refresh();
});

page.recalc.addEventListener( "click", function() {
	refresh();
	do_tests();
});

function log( arg )
{
	page.log.innerHTML += "<p>" + arg + "</p>";
}

function title( arg )
{
	page.log.innerHTML += "<hr/><b>" + arg + "</b>";
}

function do_tests()
{
	dig_24h();
	wait_24h();
	desk_8h();
	plant_8h();
	soldier_8h();
	soldier_12h();
}

function interpret( data )
{
        var c_weariness = weariness_level( data[0][0], data[0][1], data[0][2], data[0][3] );
	for( var i = 0; i < data.length; ++i ) {
		var datum = data[i];
		var new_weary = weariness_level( datum[0], datum[1], datum[2], datum[3] );
		if( new_weary != c_weariness ) {
			log( ( i * 5 + 5 ) + " minutes: weary from " + c_weariness + " to " + new_weary );
			c_weariness = new_weary;
		}
	}
	log( "Final weariness: " + weariness( data[data.length - 1][0], data[data.length - 1][1] ) );
}

function dig_24h()
{
	title( "Digging 24h" );
	// Each entry represents the tracker, intake, fatigue, and morale
	// for a particular 5 minutes chunk
	var data = [
		[61,0,1,0],[121,0,2,0],[181,0,3,0],[241,0,4,0],[302,0,5,0],
		[362,0,6,0],[422,0,7,0],[482,0,8,0],[542,0,9,0],[603,0,10,0],
		[663,0,11,0],[723,358,12,0],[784,358,13,0],[845,358,14,0],[906,358,15,0],
		[966,358,16,0],[1026,358,17,0],[1074,657,18,0],[1134,657,19,0],[1194,657,20,0],
		[1255,657,21,0],[1315,657,22,0],[1375,657,23,0],[1423,906,24,0],[1484,906,25,0],
		[1545,906,26,0],[1606,906,27,0],[1655,906,28,0],[1703,906,29,0],[1751,1113,30,0],
		[1811,1113,31,0],[1860,1113,32,0],[1908,1113,33,0],[1956,1113,34,0],[2004,1113,35,0],
		[2052,1286,36,0],[2100,1286,37,0],[2148,1286,38,0],[2196,1286,39,0],[2244,1286,40,0],
		[2292,1286,41,0],[2340,1430,42,0],[2389,1430,43,0],[2438,1430,44,0],[2486,1430,45,0],
		[2534,1430,46,0],[2582,1430,47,0],[2630,1550,48,0],[2678,1550,49,0],[2726,1550,50,0],
		[2774,1550,51,0],[2822,1550,52,0],[2870,1550,53,0],[2906,1650,54,0],[2954,1650,55,0],
		[2990,1650,56,0],[3026,1650,57,0],[3062,1650,58,0],[3098,1650,59,0],[3134,1733,60,0],
		[3170,1733,61,0],[3206,1733,62,0],[3242,1733,63,0],[3278,1733,64,0],[3314,1733,65,0],
		[3350,1803,66,0],[3386,1803,67,0],[3422,1803,68,0],[3458,1803,69,0],[3494,1803,70,0],
		[3530,1803,71,0],[3566,1861,72,0],[3602,1861,73,0],[3638,1861,74,0],[3674,1861,75,0],
		[3698,1861,76,0],[3722,1861,77,0],[3746,1909,78,0],[3770,1909,79,0],[3794,1909,80,0],
		[3818,1909,81,0],[3842,1909,82,0],[3866,1909,83,0],[3890,1949,84,0],[3914,1949,85,0],
		[3938,1949,86,0],[3962,1949,87,0],[3986,1949,88,0],[4010,1949,89,0],[4034,1983,90,0],
		[4058,1983,91,0],[4082,1983,92,0],[4106,1983,93,0],[4130,1983,94,0],[4154,1983,95,0],
		[4166,2011,96,0],[4178,2011,97,0],[4190,2011,98,0],[4202,2011,99,0],[4214,2011,100,0],
		[4226,2011,101,0],[4238,2034,102,0],[4250,2034,103,0],[4262,2034,104,0],[4274,2034,105,0],
		[4286,2034,106,0],[4298,2034,107,0],[4310,2053,108,0],[4322,2053,109,0],[4334,2053,110,0],
		[4346,2053,111,0],[4358,2053,112,0],[4370,2053,113,0],[4382,2069,114,0],[4394,2069,115,0],
		[4406,2069,116,0],[4418,2069,117,0],[4430,2069,118,0],[4442,2069,119,0],[4454,2083,120,0],
		[4466,2083,121,0],[4478,2083,122,0],[4490,2083,123,0],[4502,2083,124,0],[4514,2083,125,0],
		[4520,2094,126,0],[4526,2094,127,0],[4532,2094,128,0],[4538,2094,129,0],[4544,2094,130,0],
		[4550,2094,131,0],[4556,2103,132,0],[4562,2103,133,0],[4568,2103,134,0],[4574,2103,135,0],
		[4580,2103,136,0],[4586,2103,137,0],[4592,2111,138,0],[4598,2111,139,0],[4604,2111,140,0],
		[4610,2111,141,0],[4616,2111,142,0],[4622,2111,143,0],[4628,2118,144,0],[4634,2118,145,0],
		[4640,2118,146,0],[4646,2118,147,0],[4652,2118,148,0],[4658,2118,149,0],[4664,2123,150,0],
		[4670,2123,151,0],[4676,2123,152,0],[4682,2123,153,0],[4688,2123,154,0],[4694,2123,155,0],
		[4700,2128,156,0],[4706,2128,157,0],[4712,2128,158,0],[4718,2128,159,0],[4724,2128,160,0],
		[4730,2128,161,0],[4736,2133,162,0],[4742,2133,163,0],[4748,2133,164,0],[4754,2133,165,0],
		[4760,2133,166,0],[4766,2133,167,0],[4772,2138,168,0],[4778,2138,169,0],[4784,2138,170,0],
		[4790,2138,171,0],[4796,2138,172,0],[4802,2138,173,0],[4808,2143,174,0],[4814,2143,175,0],
		[4820,2143,176,0],[4826,2143,177,0],[4832,2143,178,0],[4838,2143,179,0],[4844,2148,180,0],
		[4850,2148,181,0],[4856,2148,182,0],[4862,2148,183,0],[4868,2148,184,0],[4874,2148,185,0],
		[4880,2150,186,0],[4886,2150,187,0],[4892,2150,188,0],[4898,2150,189,0],[4904,2150,190,0],
		[4910,2150,191,0],[4916,2150,192,0],[4922,2150,193,0],[4928,2150,194,0],[4934,2150,195,0],
		[4940,2150,196,0],[4946,2150,197,0],[4952,2150,198,0],[4958,2150,199,0],[4964,2150,200,0],
		[4970,2150,201,0],[4976,2150,202,0],[4982,2150,203,0],[4988,2150,204,0],[4994,2150,205,0],
		[5000,2150,206,0],[5006,2150,207,0],[5012,2150,208,0],[5018,2150,209,0],[5024,2150,210,0],
		[5030,2150,211,0],[5036,2150,212,0],[5042,2150,213,0],[5048,2150,214,0],[5054,2150,215,0],
		[5060,2150,216,0],[5066,2150,217,0],[5072,2150,218,0],[5078,2150,219,0],[5084,2150,220,0],
		[5090,2150,221,0],[5096,2150,222,0],[5102,2150,223,0],[5108,2150,224,0],[5114,2150,225,0],
		[5120,2150,226,0],[5126,2150,227,0],[5132,2150,228,0],[5138,2150,229,0],[5144,2150,230,0],
		[5150,2150,231,0],[5156,2150,232,0],[5162,2150,233,0],[5168,2150,234,0],[5174,2150,235,0],
		[5180,2150,236,0],[5186,2150,237,0],[5192,2150,238,0],[5198,2150,239,0],[5204,2150,240,0],
		[5210,2150,241,0],[5216,2150,242,0],[5222,2150,243,0],[5228,2150,244,0],[5234,2150,245,0],
		[5240,2150,246,0],[5246,2150,247,0],[5251,2150,248,0],[5257,2150,249,0],[5263,2150,250,0],
		[5269,2150,251,0],[5275,2150,252,0],[5281,2150,253,0],[5287,2150,254,0],[5293,2150,255,0],
		[5298,2150,256,0],[5304,2150,257,0],[5310,2150,258,0],[5316,2150,259,0],[5322,2150,260,0],
		[5328,2150,261,0],[5334,2150,262,0],[5340,2150,263,0],[5346,2150,264,0],[5352,2150,265,0],
		[5357,2150,266,0],[5363,2150,267,0],[5369,2150,268,0],[5375,2150,269,0],[5381,2150,270,0],
		[5387,2150,271,0],[5393,2150,272,0],[5399,2150,273,0],[5405,2150,274,0],[5411,2150,275,0],
		[5417,2150,276,0],[5423,2150,277,0],[5429,2150,278,0],[5435,2150,279,0],[5441,2150,280,0],
		[5447,2150,281,0],[5453,2150,282,0],[5459,2150,283,0],[5465,2150,284,0],[5471,2150,285,0],
		[5477,2150,286,0],[5483,2150,287,0],[5489,2150,288,0]
	]
	interpret( data );
}

function wait_24h()
{
	title( "Waiting 24h" );
	// Each entry represents the tracker, intake, fatigue, and morale
	// for a particular 5 minutes chunk
	var data = [
		[6,0,1,0],[12,0,2,0],
		[18,0,3,0],[24,0,4,0],[30,0,5,0],[0,0,6,0],[0,0,7,0],
		[0,0,8,0],[0,0,9,0],[0,0,10,0],[0,0,11,0],[0,0,13,0],
		[0,0,14,0],[0,0,15,0],[0,0,16,0],[0,0,17,0],[0,0,18,0],
		[0,0,19,0],[0,0,20,0],[0,0,21,0],[0,0,22,0],[0,0,23,0],
		[0,0,24,0],[0,0,25,0],[0,0,26,0],[0,0,27,0],[0,0,28,0],
		[0,0,29,0],[0,0,30,0],[0,0,31,0],[0,0,32,0],[0,0,33,0],
		[0,0,34,0],[0,0,35,0],[0,0,36,0],[0,0,37,0],[0,0,38,0],
		[0,0,39,0],[0,0,40,0],[0,0,41,0],[0,0,42,0],[0,0,43,0],
		[0,0,44,0],[0,0,45,0],[0,0,46,0],[0,0,47,0],[0,0,48,0],
		[0,0,49,0],[0,0,50,0],[0,0,51,0],[0,0,52,0],[0,0,53,0],
		[0,0,54,0],[0,0,55,0],[0,0,56,0],[0,0,57,0],[0,0,58,0],
		[0,0,59,0],[0,0,60,0],[0,0,61,0],[0,0,62,0],[0,0,63,0],
		[0,0,64,0],[0,0,65,0],[0,0,66,0],[0,0,67,0],[0,0,68,0],
		[0,0,69,0],[0,0,70,0],[0,0,71,0],[0,0,72,0],[0,0,73,0],
		[0,0,74,0],[0,0,75,0],[0,0,76,0],[0,0,77,0],[0,0,78,0],
		[0,0,79,0],[0,0,80,0],[0,0,81,0],[0,0,82,0],[0,0,83,0],
		[0,0,84,0],[0,0,85,0],[0,0,86,0],[0,0,87,0],[0,0,88,0],
		[0,0,89,0],[0,0,90,0],[0,0,91,0],[0,0,92,0],[0,0,93,0],
		[0,0,94,0],[0,0,95,0],[0,0,96,0],[0,0,97,0],[0,0,98,0],
		[0,0,99,0],[0,0,100,0],[0,0,101,0],[0,0,102,0],[0,0,103,0],
		[0,0,104,0],[0,0,105,0],[0,0,106,0],[0,0,107,0],[0,0,108,0],
		[0,0,109,0],[0,0,110,0],[0,0,111,0],[0,0,112,0],[0,0,113,0],
		[0,0,114,0],[0,0,115,0],[0,0,116,0],[0,0,117,0],[0,0,118,0],
		[0,0,119,0],[0,0,120,0],[0,0,121,0],[0,0,122,0],[0,0,123,0],
		[0,0,124,0],[0,0,125,0],[0,0,126,0],[0,0,127,0],[0,0,128,0],
		[0,0,129,0],[0,0,130,0],[0,0,131,0],[0,0,132,0],[0,0,133,0],
		[0,0,134,0],[0,0,135,0],[0,0,136,0],[0,0,137,0],[0,0,138,0],
		[0,0,139,0],[0,0,140,0],[0,0,141,0],[0,0,142,0],[0,0,143,0],
		[0,0,144,0],[0,0,145,0],[0,0,146,0],[0,0,147,0],[0,0,148,0],
		[0,0,149,0],[0,0,150,0],[0,0,151,0],[0,0,152,0],[0,0,153,0],
		[0,0,154,0],[0,0,155,0],[0,0,156,0],[0,0,157,0],[0,0,158,0],
		[0,0,159,0],[0,0,160,0],[0,0,161,0],[0,0,162,0],[0,0,163,0],
		[0,0,164,0],[0,0,165,0],[0,0,166,0],[0,0,167,0],[0,0,168,0],
		[0,0,169,0],[0,0,170,0],[0,0,171,0],[0,0,172,0],[0,0,173,0],
		[0,0,174,0],[0,0,175,0],[0,0,176,0],[0,0,177,0],[0,0,178,0],
		[0,0,179,0],[0,0,180,0],[0,0,181,0],[0,0,182,0],[0,0,183,0],
		[0,0,184,0],[0,0,185,0],[0,0,186,0],[0,0,187,0],[0,0,188,0],
		[0,0,189,0],[0,0,190,0],[0,0,191,0],[0,0,192,0],[0,0,193,0],
		[0,0,194,0],[0,0,195,0],[0,0,196,0],[0,0,197,0],[0,0,198,0],
		[0,0,199,0],[0,0,200,0],[0,0,201,0],[0,0,202,0],[0,0,203,0],
		[0,0,204,0],[0,0,205,0],[0,0,206,0],[0,0,207,0],[0,0,208,0],
		[0,0,209,0],[0,0,210,0],[0,0,211,0],[0,0,212,0],[0,0,213,0],
		[0,0,214,0],[0,0,215,0],[0,0,216,0],[0,0,217,0],[0,0,218,0],
		[0,0,219,0],[0,0,220,0],[0,0,221,0],[0,0,222,0],[0,0,223,0],
		[0,0,224,0],[0,0,225,0],[0,0,226,0],[0,0,227,0],[0,0,228,0],
		[0,0,229,0],[0,0,230,0],[0,0,231,0],[0,0,232,0],[0,0,233,0],
		[0,0,234,0],[0,0,235,0],[0,0,236,0],[0,0,237,0],[0,0,238,0],
		[0,0,239,0],[0,0,240,0],[0,0,241,0],[0,0,242,0],[0,0,243,0],
		[0,0,244,0],[0,0,245,0],[0,0,246,0],[0,0,247,0],[0,0,248,0],
		[0,0,249,0],[0,0,250,0],[0,0,251,0],[0,0,252,0],[0,0,253,0],
		[0,0,254,0],[0,0,255,0],[0,0,256,0],[0,0,257,0],[0,0,258,0],
		[0,0,259,0],[0,0,260,0],[0,0,261,0],[0,0,262,0],[0,0,263,0],
		[0,0,264,0],[0,0,265,0],[0,0,266,0],[0,0,267,0],[0,0,268,0],
		[0,0,269,0],[0,0,270,0],[0,0,271,0],[0,0,272,0],[0,0,273,0],
		[0,0,274,0],[0,0,275,0],[0,0,276,0],[0,0,277,0],[0,0,278,0],
		[0,0,279,0],[0,0,280,0],[0,0,281,0],[0,0,282,0],[0,0,283,0],
		[0,0,284,0],[0,0,285,0],[0,0,286,0],[0,0,287,0],[0,0,288,0],
		[0,0,289,0],
	]
	interpret( data );
}

function desk_8h()
{
	title( "First Aid 8h" );
	// Each entry represents the tracker, intake, fatigue, and morale
	// for a particular 5 minutes chunk
	var data = [
		[12,0,1,0],[24,0,2,0],[36,0,3,0],[48,0,4,0],
		[60,0,5,0],[72,0,6,0],[84,0,7,0],[96,0,8,0],[108,0,9,0],
		[120,0,10,0],[132,143,11,0],[144,143,12,0],[156,143,13,0],[168,143,14,0],
		[180,143,15,0],[192,143,16,0],[204,286,17,0],[216,286,18,0],[228,286,19,0],
		[240,286,20,0],[252,286,21,0],[264,286,22,0],[276,429,23,0],[300,429,25,0],
		[312,429,26,0],[324,429,27,0],[336,429,28,0],[348,572,29,0],[360,572,30,0],
		[372,572,31,0],[384,572,32,0],[396,572,33,0],[408,572,34,0],[420,715,35,0],
		[432,715,36,0],[444,715,37,0],[456,715,38,0],[468,715,39,0],[480,715,40,0],
		[492,858,41,0],[504,858,42,0],[516,858,43,0],[528,858,44,0],[540,858,45,0],
		[552,858,46,0],[564,1001,47,0],[576,1001,48,0],[588,1001,49,0],[600,1001,50,0],
		[612,1001,51,0],[624,1001,52,0],[636,1145,53,0],[648,1145,54,0],[660,1145,55,0],
		[672,1145,56,0],[684,1145,57,0],[696,1145,58,0],[708,1288,59,0],[720,1288,60,0],
		[732,1288,61,0],[743,1288,62,0],[755,1288,63,0],[766,1288,64,0],[778,1431,65,0],
		[790,1431,66,0],[802,1431,67,0],[814,1431,68,0],[826,1431,69,0],[838,1431,70,0],
		[850,1575,71,0],[862,1575,72,0],[874,1575,73,0],[886,1575,74,0],[898,1575,75,0],
		[910,1575,76,0],[922,1719,77,0],[934,1719,78,0],[946,1719,79,0],[958,1719,80,0],
		[970,1719,81,0],[982,1719,82,0],[994,1863,83,0],[1006,1863,84,0],[1018,1863,85,0],
		[1030,1863,86,0],[1042,1863,87,0],[1054,1863,88,0],[1066,1983,89,0],[1078,1983,90,0],
		[1090,1983,91,0],[1102,1983,92,0],[1114,1983,93,0],[1126,1983,94,0],[1138,2011,95,0],
		[1150,2011,96,0],[1162,2011,97,0],
	]
	interpret( data );
}

function plant_8h()
{
	title( "Planting 8h" );
	// Each entry represents the tracker, intake, fatigue, and morale
	// for a particular 5 minutes chunk
	var data = [
		[24,0,1,0],[48,0,2,0],[72,0,3,0],
		[96,0,4,0],[120,0,5,0],[144,0,6,0],[168,0,7,0],[192,0,8,0],
		[216,0,9,0],[240,287,10,0],[264,287,11,0],[288,287,12,0],[312,287,13,0],
		[336,287,14,0],[360,287,15,0],[384,575,16,0],[408,575,17,0],[432,575,18,0],
		[456,575,19,0],[479,575,20,0],[503,575,21,0],[527,863,22,0],[551,863,23,0],
		[575,863,24,0],[599,863,25,0],[623,863,26,0],[647,863,27,0],[671,1113,28,0],
		[695,1113,29,0],[719,1113,30,0],[743,1113,31,0],[767,1113,32,0],[791,1113,33,0],
		[815,1286,34,0],[839,1286,35,0],[863,1286,36,0],[887,1286,37,0],[911,1286,38,0],
		[935,1286,39,0],[959,1430,40,0],[983,1430,41,0],[1007,1430,42,0],[1031,1430,43,0],
		[1055,1430,44,0],[1079,1430,45,0],[1103,1550,46,0],[1127,1550,47,0],[1151,1550,48,0],
		[1175,1550,49,0],[1199,1550,50,0],[1223,1550,51,0],[1247,1650,52,0],[1271,1650,53,0],
		[1295,1650,54,0],[1319,1650,55,0],[1343,1650,56,0],[1367,1650,57,0],[1391,1733,58,0],
		[1415,1733,59,0],[1439,1733,60,0],[1463,1733,61,0],[1487,1733,62,0],[1511,1733,63,0],
		[1535,1803,64,0],[1559,1803,65,0],[1583,1803,66,0],[1607,1803,67,0],[1631,1803,68,0],
		[1655,1803,69,0],[1679,1861,70,0],[1703,1861,71,0],[1727,1861,72,0],[1751,1861,73,0],
		[1775,1861,74,0],[1799,1861,75,0],[1823,1909,76,0],[1847,1909,77,0],[1871,1909,78,0],
		[1895,1909,79,0],[1919,1909,80,0],[1943,1909,81,0],[1967,1949,82,0],[1991,1949,83,0],
		[2015,1949,84,0],[2039,1949,85,0],[2063,1949,86,0],[2087,1949,87,0],[2111,1983,88,0],
		[2135,1983,89,0],[2159,1983,90,0],[2183,1983,91,0],[2207,1983,92,0],[2231,1983,93,0],
		[2255,2011,94,0],[2279,2011,95,0],[2303,2011,96,0],
	]
	interpret( data );
}

function soldier_8h()
{
	title( "Soldier 8h" );
	// Each entry represents the tracker, intake, fatigue, and morale
	// for a particular 5 minutes chunk
	var data = [
		[60,0,1,0],[120,0,2,0],
		[179,0,3,0],[238,0,4,0],[298,0,5,0],[358,0,6,0],[418,0,7,0],
		[478,0,8,0],[538,0,9,0],[597,358,10,0],[657,358,11,0],[716,358,12,0],
		[776,358,13,0],[836,358,14,0],[896,358,15,0],[956,657,16,0],[1015,657,17,0],
		[1074,657,18,0],[1134,657,19,0],[1194,657,20,0],[1254,657,21,0],[1314,906,22,0],
		[1374,906,23,0],[1434,906,24,0],[1494,906,25,0],[1554,906,26,0],[1614,906,27,0],
		[1662,1113,28,0],[1722,1113,29,0],[1782,1113,30,0],[1830,1113,31,0],[1878,1113,32,0],
		[1926,1113,33,0],[1974,1286,34,0],[2022,1286,35,0],[2070,1286,36,0],[2118,1286,37,0],
		[2166,1286,38,0],[2214,1286,39,0],[2261,1430,40,0],[2309,1430,41,0],[2357,1430,42,0],
		[2405,1430,43,0],[2453,1430,44,0],[2501,1430,45,0],[2548,1550,46,0],[2595,1550,47,0],
		[2642,1550,48,0],[2689,1550,49,0],[2736,1550,50,0],[2784,1550,51,0],[2832,1650,52,0],
		[2880,1650,53,0],[2928,1650,54,0],[2976,1650,55,0],[3011,1650,56,0],[3046,1650,57,0],
		[3082,1733,58,0],[3118,1733,59,0],[3153,1733,60,0],[3189,1733,61,0],[3225,1733,62,0],
		[3260,1733,63,0],[3296,1803,64,0],[3331,1803,65,0],[3367,1803,66,0],[3403,1803,67,0],
		[3439,1803,68,0],[3474,1803,69,0],[3509,1861,70,0],[3544,1861,71,0],[3580,1861,72,0],
		[3615,1861,73,0],[3651,1861,74,0],[3674,1861,75,0],[3698,1909,76,0],[3722,1909,77,0],
		[3746,1909,78,0],[3769,1909,79,0],[3793,1909,80,0],[3817,1909,81,0],[3840,1949,82,0],
		[3864,1949,83,0],[3888,1949,84,0],[3912,1949,85,0],[3936,1949,86,0],[3959,1949,87,0],
		[3983,1983,88,0],[4007,1983,89,0],[4031,1983,90,0],[4055,1983,91,0],[4079,1983,92,0],
		[4103,1983,93,0],[4127,2011,94,0],[4150,2011,95,0],[4162,2011,96,0],
	]
	interpret( data );
}

function soldier_12h()
{
	title( "Soldier 12h" );
	// Each entry represents the tracker, intake, fatigue, and morale
	// for a particular 5 minutes chunk
	var data = [
		[59,0,1,0],
		[118,0,2,0],[177,0,3,0],[237,0,4,0],[296,0,5,0],[355,0,6,0],
		[414,0,7,0],[473,0,8,0],[532,0,9,0],[591,358,10,0],[650,358,11,0],
		[709,358,12,0],[768,358,13,0],[827,358,14,0],[886,358,15,0],[945,657,16,0],
		[1004,657,17,0],[1064,657,18,0],[1124,657,19,0],[1183,657,20,0],[1243,657,21,0],
		[1303,906,22,0],[1362,906,23,0],[1421,906,24,0],[1480,906,25,0],[1539,906,26,0],
		[1598,906,27,0],[1645,1113,28,0],[1705,1113,29,0],[1764,1113,30,0],[1811,1113,31,0],
		[1859,1113,32,0],[1906,1113,33,0],[1953,1286,34,0],[2000,1286,35,0],[2096,1286,37,0],
		[2144,1286,38,0],[2192,1286,39,0],[2239,1430,40,0],[2286,1430,41,0],[2333,1430,42,0],
		[2380,1430,43,0],[2427,1430,44,0],[2475,1430,45,0],[2522,1550,46,0],[2569,1550,47,0],
		[2617,1550,48,0],[2664,1550,49,0],[2711,1550,50,0],[2758,1550,51,0],[2805,1650,52,0],
		[2853,1650,53,0],[2900,1650,54,0],[2948,1650,55,0],[2983,1650,56,0],[3019,1650,57,0],
		[3054,1733,58,0],[3089,1733,59,0],[3125,1733,60,0],[3160,1733,61,0],[3195,1733,62,0],
		[3231,1733,63,0],[3266,1803,64,0],[3301,1803,65,0],[3336,1803,66,0],[3371,1803,67,0],
		[3407,1803,68,0],[3443,1803,69,0],[3478,1861,70,0],[3513,1861,71,0],[3548,1861,72,0],
		[3583,1861,73,0],[3619,1861,74,0],[3643,1861,75,0],[3666,1909,76,0],[3690,1909,77,0],
		[3713,1909,78,0],[3737,1909,79,0],[3760,1909,80,0],[3783,1909,81,0],[3807,1949,82,0],
		[3831,1949,83,0],[3854,1949,84,0],[3877,1949,85,0],[3900,1949,86,0],[3924,1949,87,0],
		[3947,1983,88,0],[3970,1983,89,0],[3994,1983,90,0],[4018,1983,91,0],[4041,1983,92,0],
		[4064,1983,93,0],[4088,2011,94,0],[4111,2011,95,0],[4134,2011,96,0],[4146,2011,97,0],
		[4158,2011,98,0],[4170,2011,99,0],[4181,2034,100,0],[4193,2034,101,0],[4205,2034,102,0],
		[4216,2034,103,0],[4228,2034,104,0],[4239,2034,105,0],[4251,2053,106,0],[4263,2053,107,0],
		[4274,2053,108,0],[4286,2053,109,0],[4298,2053,110,0],[4309,2053,111,0],[4321,2069,112,0],
		[4332,2069,113,0],[4344,2069,114,0],[4356,2069,115,0],[4368,2069,116,0],[4379,2069,117,0],
		[4391,2083,118,0],[4402,2083,119,0],[4413,2083,120,0],[4425,2083,121,0],[4437,2083,122,0],
		[4449,2083,123,0],[4461,2094,124,0],[4473,2094,125,0],[4478,2094,126,0],[4484,2094,127,0],
		[4490,2094,128,0],[4496,2094,129,0],[4502,2103,130,0],[4508,2103,131,0],[4514,2103,132,0],
		[4520,2103,133,0],[4526,2103,134,0],[4532,2103,135,0],[4538,2111,136,0],[4544,2111,137,0],
		[4550,2111,138,0],[4556,2111,139,0],[4561,2111,140,0],[4567,2111,141,0],[4573,2118,142,0],
		[4579,2118,143,0],[4585,2118,144,0],[4591,2118,145,0],
	]
	interpret( data );
}

refresh();
